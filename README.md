# pay-brawl-star — E2E покупка 80 гемов в Supercell Store (Brawl Stars)

> ⚠️ Важно  
> Этот проект — **для авторизованного QA/автотеста** на **своих** аккаунтах и в рамках согласованного тестового задания.  
> **Не коммить секреты** (почты/пароли/коды/куки/профили браузера). Репозиторий держите **приватным**, если так требуется по условиям.

## Что делает
Автоматизирует один стабильный сценарий в браузере:

1) `store.supercell.com` → вход по email + OTP  
2) поиск/открытие товара **“80 gems”** → `Buy` → проверка количества = **1**  
3) `Checkout` → выбор **Google Pay** → открытие платежного окна  
4) **ручное подтверждение оплаты** в Google Pay (логин/2FA/подтверждение — руками, чтобы не хранить и не прогонять секреты кодом)  
5) `https://store.supercell.com/account` → `Payment information` → отвязка способа оплаты (если доступно)  
6) `Log out` из Supercell

## Почему “ручная оплата”
Google Pay/2FA — чувствительный шаг. В этом проекте мы доводим до стабильности **весь флоу до платежки**, а финальное подтверждение делаем вручную:
- безопаснее (не храним пароль/2FA в env),
- меньше рисков “сломаться” из-за антибота,
- проще воспроизводить на локальном ноуте.

> Если в задании принципиально нужна *полная* автоматизация подтверждения — это обсуждается отдельно (и обычно требует других допусков/подхода).

---

## Требования
- Python 3.10+ *(или Node.js 18+ — если проект на JS; поправьте под ваш стек)*  
- Playwright (рекомендовано) / Selenium  
- Запуск **локально на ноутбуке**  
- VPN/прокси настраиваются **вне проекта** (или через переменные окружения, если у вас это уже реализовано)

---

## Быстрый старт

### 1) Установка
**Python**
```bash
python -m venv .venv
# Windows:
.venv\Scripts\activate
# macOS/Linux:
source .venv/bin/activate

pip install -r requirements.txt
playwright install